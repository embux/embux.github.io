<!doctype html>



  


<html class="theme-next mist use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="flashing,sd-card,storage,image," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="This article help to create the bootable sd card from image files. There are three topics: device compatibility, partition description and create steps. 1. Compatibility1.1 Hardware Device ICM/ICS-20">
<meta name="keywords" content="flashing,sd-card,storage,image">
<meta property="og:type" content="article">
<meta property="og:title" content="SD-Card Flashing on ICM-series">
<meta property="og:url" content="http://embux.github.io/linux/sd-flashing/index.html">
<meta property="og:site_name" content="EMBUX">
<meta property="og:description" content="This article help to create the bootable sd card from image files. There are three topics: device compatibility, partition description and create steps. 1. Compatibility1.1 Hardware Device ICM/ICS-20">
<meta property="og:updated_time" content="2017-05-18T07:22:59.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="SD-Card Flashing on ICM-series">
<meta name="twitter:description" content="This article help to create the bootable sd card from image files. There are three topics: device compatibility, partition description and create steps. 1. Compatibility1.1 Hardware Device ICM/ICS-20">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: 'Author'
    }
  };
</script>




  <link rel="canonical" href="http://embux.github.io/linux/sd-flashing/"/>

  <title> SD-Card Flashing on ICM-series | EMBUX </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">EMBUX</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">embedded linux</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-products">
          <a href="/product/embux-products/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-star"></i> <br />
            
            Products
          </a>
        </li>
      
        
        <li class="menu-item menu-item-events">
          <a href="/categories/events/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-star"></i> <br />
            
            Events
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="#" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup">
 <span class="search-icon fa fa-search"></span>
 <input type="text" id="local-search-input">
 <div id="local-search-result"></div>
 <span class="popup-btn-close">close</span>
</div>


    </div>
  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                SD-Card Flashing on ICM-series
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2015-12-29T16:32:18+08:00" content="2015-12-29">
              2015-12-29
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/flash-image/" itemprop="url" rel="index">
                    <span itemprop="name">flash image</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/linux/sd-flashing/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="linux/sd-flashing/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <!-- article brief , must add more than 130 characters -->
<p>This article help to create the bootable sd card from image files. There are three topics: device compatibility, partition description and create steps.</p>
<h2 id="1-Compatibility"><a href="#1-Compatibility" class="headerlink" title="1. Compatibility"></a>1. Compatibility</h2><h3 id="1-1-Hardware-Device"><a href="#1-1-Hardware-Device" class="headerlink" title="1.1 Hardware Device"></a>1.1 Hardware Device</h3><ol>
<li>ICM/ICS-2010</li>
<li>ICM/ICS-2011</li>
</ol>
<h3 id="1-2-OS"><a href="#1-2-OS" class="headerlink" title="1.2 OS"></a>1.2 OS</h3><ol>
<li>Yocto 1.6.2     (U-boot 2014.04, Kernel 3.10.53)  </li>
<li>Ubuntu 12.04 (U-boot 2014.04, Kernel 3.10.53)</li>
</ol>
<!--
2. Android 5.0.2 (U-boot 2014.04, Kernel 3.10.53) -->
<!--
To create storage partitions, you can use MFGTool as described in the Android Quick Start Guide, or you can use format tools in prebuild dir.
-->
<h2 id="2-Create-SD"><a href="#2-Create-SD" class="headerlink" title="2. Create SD"></a>2. Create SD</h2><h3 id="2-1-Requirement"><a href="#2-1-Requirement" class="headerlink" title="2.1 Requirement"></a>2.1 Requirement</h3><p>An SD/MMC card reader, like a USB card reader, is required. It will be used to transfer the boot loader and kernel images to initialize the partition table and copy the root file system. To simplify the instructions, it is assumed that a 8GB SD/MMC card is used.</p>
<p>To identify the device node assigned to the SD/MMC card, enter the command:</p>
<figure class="highlight sh"><figcaption><span>show partitions  </span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">$ cat /proc/partitions  </div><div class="line">major minor  <span class="comment">#blocks  name  </span></div><div class="line">8     0     78124000  sda  </div><div class="line">8     1     75095811  sda1  </div><div class="line">8     2            1  sda2  </div><div class="line">8     5      3028221  sda5  </div><div class="line">8    32     43232323  sdb1  </div><div class="line">8    18      3905535  sdc1</div></pre></td></tr></table></figure>
<p>In this example, the device node assigned is <code>/dev/sdc</code> (a block is 512B large).</p>
<h3 id="2-2-Create-SD-Full-Image"><a href="#2-2-Create-SD-Full-Image" class="headerlink" title="2.2 Create SD - Full Image"></a>2.2 Create SD - Full Image</h3><h3 id="Steps"><a href="#Steps" class="headerlink" title="Steps"></a>Steps</h3><ol>
<li>Get full image file from google driver location.</li>
</ol>
<p>OS: Yocto 1.6.2, Android 5.0.2, Windows Embedded Compact 7 and Ubuntu 12.04</p>
<p>[ICM/ICS-2010 full images (SD8G)] (<a href="https://drive.google.com/folderview?id=0B4PjI57nBw4eWUtuaERjTjNUS3c&amp;usp=sharing" target="_blank" rel="external">https://drive.google.com/folderview?id=0B4PjI57nBw4eWUtuaERjTjNUS3c&amp;usp=sharing</a>)</p>
<p>[ICM/ICS-2011 full images (SD8G)] (<a href="https://drive.google.com/folderview?id=0B4PjI57nBw4eQTlnNmNLV0JpOTg&amp;usp=sharing" target="_blank" rel="external">https://drive.google.com/folderview?id=0B4PjI57nBw4eQTlnNmNLV0JpOTg&amp;usp=sharing</a>)</p>
<pre><code>$xzcat full.img.xz | sudo dd of=/dev/sdc bs=16M
</code></pre><p>replace <code>full.img.xz</code> to proper os image filename</p>
<h3 id="2-3-Create-SD-Seperated-Disk-Dump-Files"><a href="#2-3-Create-SD-Seperated-Disk-Dump-Files" class="headerlink" title="2.3 Create SD - Seperated Disk Dump Files"></a>2.3 Create SD - Seperated Disk Dump Files</h3><h3 id="2-3-1-Needed-Files"><a href="#2-3-1-Needed-Files" class="headerlink" title="2.3.1 Needed Files"></a>2.3.1 Needed Files</h3><ol>
<li>boot loader: fileu-boot.imx</li>
<li>linux kernel: uImage</li>
<li>device tree: imx6dl-embux-icm2010.dtb</li>
<li>boot configuration: boot-env</li>
</ol>
<h3 id="2-3-2-Steps"><a href="#2-3-2-Steps" class="headerlink" title="2.3.2 Steps"></a>2.3.2 Steps</h3><p>Flash boot loader file - u-boot.imx</p>
<pre><code>$ sudo dd if=u-boot.imx of=/dev/sdc bs=1k seek=1; sync
</code></pre><p>Copy kenel, device tree and boot config file to “env” partition.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">$ mkdir temp  </div><div class="line">$ sudo mount -t vfat /dev/sdc10 temp  </div><div class="line">$ sudo cp uImage temp/  </div><div class="line">$ sudo cp imx6dl-embux-icm2010.dtb temp/  </div><div class="line">$ sudo cp boot-env temp/  </div><div class="line">$ sync  </div><div class="line">$ sudo umount temp</div></pre></td></tr></table></figure>
<p>More info: <a href="http://www.embux.com" target="_blank" rel="external">Reference</a></p>

      
    </div>

    <div>
      
        
      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/flashing/" rel="tag">#flashing</a>
          
            <a href="/tags/sd-card/" rel="tag">#sd-card</a>
          
            <a href="/tags/storage/" rel="tag">#storage</a>
          
            <a href="/tags/image/" rel="tag">#image</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/events/2015-1228-icm2011-android-5.0.2-rls/" rel="next" title="Android 5.0.2 Announcement for ICM-2011">
                <i class="fa fa-chevron-left"></i> Android 5.0.2 Announcement for ICM-2011
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/append/icm3011-emmc-flashing/" rel="prev" title="eMMC Flashing on ICM-3011">
                eMMC Flashing on ICM-3011 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            Overview
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="embux.tech" />
          <p class="site-author-name" itemprop="name">embux.tech</p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/">
              <span class="site-state-item-count">44</span>
              <span class="site-state-item-name">posts</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              
                <span class="site-state-item-count">8</span>
                <span class="site-state-item-name">categories</span>
              
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">52</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-Compatibility"><span class="nav-number">1.</span> <span class="nav-text">1. Compatibility</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-Hardware-Device"><span class="nav-number">1.1.</span> <span class="nav-text">1.1 Hardware Device</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-OS"><span class="nav-number">1.2.</span> <span class="nav-text">1.2 OS</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-Create-SD"><span class="nav-number">2.</span> <span class="nav-text">2. Create SD</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-Requirement"><span class="nav-number">2.1.</span> <span class="nav-text">2.1 Requirement</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-Create-SD-Full-Image"><span class="nav-number">2.2.</span> <span class="nav-text">2.2 Create SD - Full Image</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Steps"><span class="nav-number">2.3.</span> <span class="nav-text">Steps</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-3-Create-SD-Seperated-Disk-Dump-Files"><span class="nav-number">2.4.</span> <span class="nav-text">2.3 Create SD - Seperated Disk Dump Files</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-3-1-Needed-Files"><span class="nav-number">2.5.</span> <span class="nav-text">2.3.1 Needed Files</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-3-2-Steps"><span class="nav-number">2.6.</span> <span class="nav-text">2.3.2 Steps</span></a></li></ol></li></ol></div>
            
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">embux.tech</span>
</div>

<div class="powered-by">
  Powered by <a class="theme-link" href="http://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.0.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.0.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  



  

    <script type="text/javascript">
      var disqus_shortname = 'embuxgithubio';
      var disqus_identifier = 'linux/sd-flashing/';
      var disqus_title = "SD-Card Flashing on ICM-series";
      var disqus_url = 'http://embux.github.io/linux/sd-flashing/';

      function run_disqus_script(disqus_script){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      }

      run_disqus_script('count.js');
      
        run_disqus_script('embed.js');
      
    </script>
  




  
  
  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length == 0) {
       search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    function proceedsearch() {
      $("body").append('<div class="popoverlay">').css('overflow', 'hidden');
      $('.popup').toggle();

    }
    // search function;
    var searchFunc = function(path, search_id, content_id) {
    'use strict';
    $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
            // get the contents from search data
            isfetched = true;
            $('.popup').detach().appendTo('.header-inner');
            var datas = $( "entry", xmlResponse ).map(function() {
                return {
                    title: $( "title", this ).text(),
                    content: $("content",this).text(),
                    url: $( "url" , this).text()
                };
            }).get();
            var $input = document.getElementById(search_id);
            var $resultContent = document.getElementById(content_id);
            $input.addEventListener('input', function(){
                var matchcounts = 0;
                var str='<ul class=\"search-result-list\">';                
                var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                $resultContent.innerHTML = "";
                if (this.value.trim().length > 1) {
                // perform local searching
                datas.forEach(function(data) {
                    var isMatch = true;
                    var content_index = [];
                    var data_title = data.title.trim().toLowerCase();
                    var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                    var data_url = data.url;
                    var index_title = -1;
                    var index_content = -1;
                    var first_occur = -1;
                    // only match artiles with not empty titles and contents
                    if(data_title != '' && data_content != '') {
                        keywords.forEach(function(keyword, i) {
                            index_title = data_title.indexOf(keyword);
                            index_content = data_content.indexOf(keyword);
                            if( index_title < 0 && index_content < 0 ){
                                isMatch = false;
                            } else {
                                if (index_content < 0) {
                                    index_content = 0;
                                }
                                if (i == 0) {
                                    first_occur = index_content;
                                }
                            }
                        });
                    }
                    // show search results
                    if (isMatch) {
                        matchcounts += 1;
                        str += "<li><a href='"+ data_url +"' class='search-result-title'>"+ data_title +"</a>";
                        var content = data.content.trim().replace(/<[^>]+>/g,"");
                        if (first_occur >= 0) {
                            // cut out 100 characters
                            var start = first_occur - 20;
                            var end = first_occur + 80;
                            if(start < 0){
                                start = 0;
                            }
                            if(start == 0){
                                end = 50;
                            }
                            if(end > content.length){
                                end = content.length;
                            }
                            var match_content = content.substring(start, end);
                            // highlight all keywords
                            keywords.forEach(function(keyword){
                                var regS = new RegExp(keyword, "gi");
                                match_content = match_content.replace(regS, "<b class=\"search-keyword\">"+keyword+"</b>");
                            });
                            
                            str += "<p class=\"search-result\">" + match_content +"...</p>"
                        }
                        str += "</li>";
                    }
                })};
                str += "</ul>";
                if (matchcounts == 0) { str = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>' }
                if (keywords == "") { str = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>' }
                $resultContent.innerHTML = str;
            });
            proceedsearch();
        }
    });}

    // handle and trigger popup window;
    $('.popup-trigger').mousedown(function(e) {
      e.stopPropagation();
      if (isfetched == false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };

    });

    $('.popup-btn-close').click(function(e){
      $('.popup').hide();
      $(".popoverlay").remove();
      $('body').css('overflow', '');
    });
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>

  

  

  

</body>
</html>
